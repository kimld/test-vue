<template>
  <!--å¯¼èˆªæ  -->
  <div class="nav1">
    <!--å›åˆ°é¡¶éƒ¨çš„æ ‡ç­¾æ˜¾ç¤º-->
    <div class="bigtag">
      <div class="bq1" @mouseenter="disp">ğŸ‰Honywo</div>
      <el-button
        type="success"
        @mouseleave="shou"
        @click="backTop()"
        class="bq2"
        round
        >å›åˆ°é¡¶éƒ¨</el-button
      >
    </div>
    <div class="bolg">
      <!-- å¤´éƒ¨çš„å¯¼èˆª -->
      <el-menu class="el-menu-demo1" mode="horizontal" router default-active="true">
        <!-- å›åˆ°é¦–é¡µ -->
        <div class="back">
          <div class="bq3" @mouseenter="pass">ğŸ‰Honywo</div>
          <el-button
            type="danger"
            @mouseleave="showag"
            @click="home"
            class="bq4"
            round >ğŸ </el-button>
        </div>
        <el-sub-menu index="1">
          <template #title>ğŸ“˜ä¼‘é—²</template>
          <el-menu-item index="/login" >è¿åŠ¨</el-menu-item>
          <el-menu-item index="/login">æ–°é—»</el-menu-item>
          <el-menu-item index="/login">ç»˜ç”»</el-menu-item>
        </el-sub-menu>
        <el-sub-menu index="2">
          <template #title>ğŸ’­èŠå¤©å®¤</template>
          <el-menu-item index="/login">å…¬å…±èŠå¤©</el-menu-item>
          <el-menu-item index="/login">ç§äººèŠå¤©</el-menu-item>
        </el-sub-menu>

        <el-sub-menu index="3">
          <template #title>ğŸ“æ—¥å¸¸è®°å½•</template>
          <el-menu-item index="/login">ä¸ªäººæ—¥å¸¸</el-menu-item>
        </el-sub-menu>
        <el-sub-menu index="4">
          <template #title >ğŸ“‚ä¸ªäºº</template>
          <el-menu-item index="/index/personCenter">ğŸ”‘&nbsp;ä¸ªäººä¸­å¿ƒ</el-menu-item>
          <el-menu-item index="/login">ğŸ›’&nbsp;ä¸ªäººæ”¶è—</el-menu-item>
        </el-sub-menu>
        <el-button @click="back" class="bg-red-600" round>é€€å‡º</el-button>
      </el-menu>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, reactive } from "vue";
import { useRouter } from "vue-router";
const router = useRouter();
// è·å–å¯¼èˆªæ æ˜¾ç¤ºçš„ä¸å¦
let showNav = ref<any>(false);

// é€€å‡ºæŒ‰é’®äº‹ä»¶æ“ä½œ
function back(): any {
  window.sessionStorage.setItem("token", "");
  router.push("/login");
}
// æŒ‰é’®ç‚¹å‡»é¦–é¡µäº‹ä»¶ï¼Œæ­¤å¤„æ·»åŠ è®¡æ—¶å™¨ä¿®å¤bug
function home(): any {
  // é‡æ–°åˆ·æ–°æœ¬é¡µé¢çš„ä»£ç 
    router.push({path:'/index'})
    setInterval(()=>{
    location.reload();
    router.go(0);
   },100)

}
// æŒ‰é’®è§¦å‘å›åˆ°é¡¶éƒ¨äº‹ä»¶
function backTop(): any {
  document.documentElement.scrollTop = 0;
}
// æ ‡é¢˜çš„å˜åŒ–æ¶ˆå¤±
function disp(): any {
  (document.querySelector(".bq1") as HTMLElement).style.display = "none";
  (document.querySelector(".bq2") as HTMLElement).style.display = "block";
}
//æ ‡é¢˜å˜åŒ–å‡ºç°
function shou(): any {
  (document.querySelector(".bq2") as HTMLElement).style.display = "none";
  (document.querySelector(".bq1") as HTMLElement).style.display = "block";
}
// é¦–é¡µæ¶ˆå¤±
function pass(): any {
  (document.querySelector(".bq3") as HTMLElement).style.display = "none";
  (document.querySelector(".bq4") as HTMLElement).style.display = "block";
}
//é¦–é¡µå‡ºç°
function showag(): any {
  (document.querySelector(".bq4") as HTMLElement).style.display = "none";
  (document.querySelector(".bq3") as HTMLElement).style.display = "block";
}
// æ£€æµ‹æ»šåŠ¨æ¡çš„å˜åŒ–é…ç½®æ ‡ç­¾æ 
window.addEventListener("scroll", (e) => {
  //windowæ»šåŠ¨çš„é•¿åº¦åˆšå¥½å¤§äºå±å¹•çš„é•¿åº¦
  if (window.scrollY >= screen.height / 2) {
    (document.querySelector(".bigtag") as HTMLElement).style.display = "block";
    (document.querySelector(".bolg") as HTMLElement).style.display = "none";
  } else {
    (document.querySelector(".bolg") as HTMLElement).style.display = "block";
    (document.querySelector(".bigtag") as HTMLElement).style.display = "none";
  }
});

</script>

<style scoped>
/* å¯¼èˆªæ  */
.nav1 {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: fixed;
  width: 100%;
  background-color: white;
  opacity: 0.8;
  z-index: 2000;
}
.bolg {
  width: 85%;
}
.el-sub-menu {
  margin-right: 40px;
}
.fixedNav {
  position: absolute;
}
.el-menu-demo1 {
  display: flex;
  justify-content: space-around;
  align-items: center;
}
/* å¼€å¤´æ ‡ç­¾ */
.bq1 {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
  width: 120px;
  font-size: 24px;
  font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;
  display: block;
}
.bq2 {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
  width: 120px;
  height: 36px;
  display: none;
}
.bq3 {
  width: 120px;
  font-size: 24px;
  font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;
  display: block;
}
.bq4 {
  width: 120px;
  height: 36px;
  display: none;
}
.bigtag {
  position: relative;
  display: none;
  height: 59px;
}
</style>
